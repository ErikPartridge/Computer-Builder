<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico?v=2" />
    <script src="/lib/jquery/dist/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Maitree" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway|Trirong" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Josefin+Sans' rel='stylesheet' type='text/css'>
    <title>Artisanal AI PCs</title>
    <link href="/lib/semantic/dist/semantic.min.css" rel="stylesheet" type="text/css"/>
    <script src="/lib/semantic/dist/semantic.min.js"></script>
    <link href="/style.css" rel="stylesheet" type="text/css"/>
    <script src="/lib/humanize-plus/dist/humanize.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/vue/1.0.25/vue.min.js"></script>
    <script src="//www.anrdoezrs.net/am/8108375/include/joined/generate/onLoad/impressions/page/am.js"></script>
    <title>We're Thinking</title>
</head>
<body>
    <div class="ui container" id="app">
        <div class="ui stackable grid">
            <div class="ui row centered">
                <div class="eight wide column center aligned">
                    <h1 class="top-header" v-if="done">The Best Match For You</h1>
                    <h1 class="top-header" v-if="!done">Thinking...</h1>
                    <h2 v-if="!done">This process may take up to 20 seconds</h2>
                    <h4 v-if="!done">You may return to this page at any time. While you wait, perhaps pick out a case from <a class="redurl" href="http://amzn.to/29hb7iJ">this lovely selection?</a> </h4>
                    <p v-if="done" class="small italic">
                    Always verify that all parts are compatible with each other, and that the PSU provides sufficient power.</p>
                    <h2 v-if="done">${{price.toFixed(2)}}</h2>
                </div>
            </div>
            <div v-if="done" class="ui row">
                <div class="nine wide column centered">
                    <table id="results-table" style="width: 100%;" class="ui very basic collapsing celled table">
                        <tbody>
                        <tr><td>CPU</td><td>{{cpu.name}}</td><td><a class="redurl" href="{{cpu.url}}">${{cpu.low}}</a> - {{cpu.source}}</td></tr>
                        <tr><td>GPU</td><td>{{gpu.name}}</td><td><a class="redurl" href="{{gpu.url}}">${{gpu.low}}</a> - {{gpu.source}}</td></tr>
                        <tr><td>Boot Drive</td><td>{{boot.name}}</td><td><a class="redurl" href="{{boot.url}}">${{boot.low}}</a> - {{boot.source}}</td></tr>
                        <tr v-if="secondaryDrive"><td>Secondary Drive</td><td>{{secondary.name}}</td><td><a class="redurl" href="{{secondary.url}}">${{secondary.low}}</a> - {{secondary.source}}</td></tr>
                        <tr><td>Motherboard</td><td>{{motherboard.name}}</td><td><a class="redurl" href="{{motherboard.url}}">${{motherboard.low}}</a> - {{motherboard.source}} </td></tr>
                        <tr><td>Ram</td><td>{{ram.name}}</td><td><a class="redurl" href="{{ram.url}}">${{ram.low}}</a> - {{ram.source}}</td></tr>
                        <tr><td>PSU</td><td>{{psu.name}}</td><td><a class="redurl" href="{{psu.url}}">${{psu.low}}</a> - {{psu.source}}</td></tr>
                        <tr v-if="caseExists"><td>Case</td><td>{{case.name}}</td><td><a class="redurl" href="{{case.url}}">${{case.low}}</a> - {{case.source}}</td></tr>
                        <tr v-if="monitorExists"><td>Monitor</td><td>{{monitor.name}}</td><td><a class="redurl" href="{{monitor.url}}">${{monitor.low}}</a> - {{monitor.source}}</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div v-if="done" class="ui row">
                <div class="four wide column centered">
                    <span><a class="redurl" href="/terms">Terms &amp; Privacy</a> &bull; <a href="/" class="redurl">Back</a> &bull;&nbsp;&copy; Erik Partridge, 2016 </span>
                </div>
            </div>
        </div>
        <div v-if="!done" class="sk-folding-cube">
            <div class="sk-cube1 sk-cube"></div>
            <div class="sk-cube2 sk-cube"></div>
            <div class="sk-cube4 sk-cube"></div>
            <div class="sk-cube3 sk-cube"></div>
        </div>
    </div>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-80421750-2', 'auto');
        ga('send', 'pageview');

    </script>
    <!-- Piwik -->
    <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(["setDomains", ["*.theaipc.com","*.theaipc.com"]]);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
            var u="//stats.computerevaluator.com/";
            _paq.push(['setTrackerUrl', u+'piwik.php']);
            _paq.push(['setSiteId', 2]);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <noscript><p><img src="//stats.computerevaluator.com/piwik.php?idsite=2" style="border:0;" alt="" /></p></noscript>
    <!-- End Piwik Code -->
<script type="application/javascript">
    var v = new Vue({
        el: '#app',
        data : {
            done : false,
            result : {}
        }

    });
    function update(){
        var time = 0;
        $.ajax({
            type:"get",
            url:"/api/" + window.location.pathname.split("/c")[1],
            datatype:"json",
            success:function(data)
            {
                if(!data['done']){
                    time += 10000;
                    setTimeout( update(), 10000);
                }else{
                    console.log("Done processing data");
                    v.$data = data;
                    v['done'] = true;
                    _paq.push([['trackEvent', 'Results', 'Load', 'Complete', time]]);
                }
            },
            error:function(err){
                console.log(err);
            }
        });
    }
    update();
</script>
</body>
</html>